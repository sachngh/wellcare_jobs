!function(i){"use strict";({cache:{$document:i(document),$window:i(window)},init:function(){this.bindEvents()},bindEvents:function(){var e=this;this.cache.$document.on("ready",function(){e.$forms=i(".search_jobs"),"undefined"==typeof job_manager_select2_args?this.select2_args={}:this.select2_args=job_manager_select2_args,this.select2_args.allowClear=!0,this.select2_args.minimumResultsForSearch=10,e.addSubmission(),e.addRegions(),e.updateResults(),e.resetResults()})},addSubmission:function(){i.isFunction(i.fn.chosen)?i("#job_region, #resume_region").chosen({search_contains:!0}):i.isFunction(i.fn.select2)&&i("#job_region, #resume_region").select2(this.select2_args)},addRegions:function(){this.$forms.each(function(e,s){var n=!1,t=i(s).find("select.search_region");t.parent().hasClass("select")&&(n=!0,t=t.parent()),t.length&&((s=i(s).find(".search_location")).html(""),s.removeClass("search_location").addClass("search_region"),t.detach().appendTo(s),s={search_contains:!0},i.isFunction(i.fn.chosen)?(n?t.children("select"):t).chosen(s):(n?t.children("select"):t).select2(this.select2_args))})},updateResults:function(){this.$forms.each(function(e,s){i(this).find(".search_region").on("change",function(){i(this).closest("div.job_listings").trigger("update_results",[1,!1])})})},resetResults:function(){var e=this;i(".job_listings").on("reset",function(){e.$forms.each(function(e,s){i(s).find("select.search_region").val(0).trigger("change").trigger("chosen:updated")})})}}).init(),{cache:{$document:i(document),$window:i(window)},init:function(){this.bindEvents()},bindEvents:function(){var e=this;this.cache.$document.on("ready",function(){e.$forms=i(".search_resumes"),e.addSubmission(),e.addRegions(),e.updateResults(),e.resetResults()})},addSubmission:function(){i("#job_region, #resume_region").chosen({search_contains:!0})},addRegions:function(){this.$forms.each(function(e,s){var n=!1,t=i(s).find("select.search_region");t.parent().hasClass("select")&&(n=!0,t=t.parent()),t.length&&((s=i(s).find(".search_location")).html(""),s.removeClass("search_location").addClass("search_region"),t.detach().appendTo(s),s={search_contains:!0},(n?t.children("select"):t).chosen(s))})},updateResults:function(){this.$forms.each(function(e,s){i(this).find(".search_region").on("change",function(){i(this).closest("div.resumes").trigger("update_results",[1,!1])})})},resetResults:function(){var e=this;i(".resumes").on("reset",function(){e.$forms.each(function(e,s){i(s).find("select.search_region").val(0).trigger("change").trigger("chosen:updated")})})}}.init()}(jQuery);